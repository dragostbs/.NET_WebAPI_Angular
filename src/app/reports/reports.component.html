<main class="col-md-9 ms-sm-auto col-lg-10 px-md-5 pt-2">
  <div
    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-2 pb-2 mb-3 border-bottom"
  >
    <h1 class="text-secondary">Reports</h1>
    <div class="alert alert-warning" role="alert" id="add-remove-alert">
      Transaction canceled successfuly !
    </div>
    <app-trade></app-trade>
  </div>
  <div *ngIf="loaderComponent.loading" class="report card rounded-top">
    <table class="table mb-0">
      <thead class="report__head bg-light">
        <tr class="rounded-top">
          <th scope="col">Id</th>
          <th scope="col">Stock</th>
          <th scope="col">Result</th>
          <th scope="col">Price</th>
          <th scope="col">Date</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let transaction of transactions$ | async">
          <td>{{ transaction.id }}</td>
          <td>{{ stockSymbolMap.get(transaction.stockId) }}</td>
          <td
            [ngStyle]="{
              color: transaction.result === 'Buy' ? 'green' : 'red'
            }"
          >
            {{ transaction.result }}
          </td>
          <td>{{ stockPriceMap.get(transaction.stockId) }}$</td>
          <td>{{ transaction.date | slice : 0 : 10 }}</td>
          <td>
            <button
              class="btn btn-sm btn-danger"
              (click)="removeTransactions(transaction)"
            >
              Cancel
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <app-loader></app-loader>
</main>
<app-nav></app-nav>
